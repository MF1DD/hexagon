deptrac:
  # ğŸ‘€ Hier sagt man Deptrac, welche Pfade gescannt werden sollen
  paths:
    - ./../../src

  # ğŸ” Diese Dateien werden ausgeschlossen (z.B. Tests)
  exclude_files:
    - '#.*test.*#'

  # ğŸ§… Layers definieren die Schichten unserer Architektur
  layers:
    - name: Domain               # ğŸ’¡ Reine Businesslogik
      collectors:
        - type: classLike
          value: App\\Domain\\.*

    - name: Application          # ğŸ§  Orchestriert Use Cases, ruft Domain auf
      collectors:
        - type: classLike
          value: App\\Application\\.*

    - name: Infrastructure       # ğŸ§± Datenbank, Dateisystem, externe Services
      collectors:
        - type: classLike
          value: App\\Infrastructure\\.*

    - name: UserInterface        # ğŸ­ Client, CLI, REST usw.
      collectors:
        - type: classLike
          value: App\\UserInterface\\.*

    - name: Bootstrap
      collectors:
          - type: classLike
            value: App\\Bootstrap\\.*



  # ğŸ”’ Wer darf auf wen zugreifen?
  ruleset:
    Domain: [ ] # ğŸ”’ Domain ist sakrosankt â€“ niemand darf es kennen auÃŸer Application
    Application: [ Domain ] # âœ… Application darf Domain nutzen
    Infrastructure: [ Application, Domain ] # âœ… Implementiert Ports/Interfaces
    UserInterface: [ Application, Bootstrap ] # âœ… UI darf nur mit Application reden!
    Bootstrap: [ Application, Infrastructure, Domain ]




#  | Layer              | Typische Klassen                                                                                | Kommentar                      |
#  | ------------------ | ----------------------------------------------------------------------------------------------- | ------------------------------ |
#  | **Domain**         | `LuckyNumber`, `User`, `Entity`, `ValueObject`, `DomainEvent`, `LuckyNumberRepositoryInterface` | Keine externen AbhÃ¤ngigkeiten! |
#  | **Application**    | `GenerateLuckyNumberHandler`, `CreateUserCommand`, `LoginService`                               | Koordiniert Use Cases          |
#  | **Infrastructure** | `DoctrineLuckyNumberRepository`, `FileLogger`, `MailgunClient`                                  | Implementierung von Interfaces |
#  | **UserInterface**  | `LuckyNumberController`, `ConsoleCommand`, `ApiController`                                      | Liefert Eingabe, zeigt Ausgabe |
